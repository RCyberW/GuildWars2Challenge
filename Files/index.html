<!DOCTYPE html>
<html>
    <head> 
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Demo app</title>
		<link type="text/css" rel="stylesheet" href="css/style.css">
		<script src="js/jquery-1.11.2.min.js"></script>
        <script>			
			$(document).ready(function() {
				$('#tabbar li').each(function() {
					$('#main-content').append('<div id="' + $(this).html().replace(/ /g, '_') + '-page" class="content-page"></div>');
					$('#' + $(this).html().replace(/ /g, '_') + '-page').load($(this).html().replace(/ /g, '').toLowerCase() + '.html');
					$(this).off('click').on('click', function() {
						$('.active-tab').removeClass('active-tab');
						$('.content-page').hide();
						$(this).addClass('active-tab');
						$('#' + $(this).html().replace(/ /g, '_') + '-page').show();
					});
				});
				
				$('#tabbar li:first').trigger('click');
			});
			
			//DEBUGGING CODE
			var debugmode = true;
			
			if(debugmode) {
				$(window).on('keypress', function(e) {
					if(e.keyCode == 100) {
						$('#debug-menu').slideToggle(300);
						$('#debug-menu').scrollTop($('#debug-menu').prop('scrollHeight'));
					}
				});
			}
						
			function debug(string) {
				$('#debug-menu').append(string + '<br>');
				$('#debug-menu').scrollTop($('#debug-menu').prop('scrollHeight'));
			}
			
			// OverWolf Window functions
			function dragResize(edge){
				overwolf.windows.getCurrentWindow(function(result){
					if (result.status=="success"){
						overwolf.windows.dragResize(result.window.id, edge);
					}
				});
			};
			function dragMove(){
				overwolf.windows.getCurrentWindow(function(result){
					if (result.status=="success"){
						overwolf.windows.dragMove(result.window.id);
					}
				});
			};
			function closeWindow(){
				overwolf.windows.getCurrentWindow(function(result){
					if (result.status=="success"){
						overwolf.windows.close(result.window.id);
					}
				});
			};       
		</script>
    </head>

    <body>
		<div id="top-bar" onmousedown="dragMove();">
			<div id="close-button" onclick="closeWindow()">X</div>
		</div>
		<div id="debug-menu">--Debug Menu--<br><br></div>
		<div id="tabbar">
			<ul>
				<li>Item Search</li>
				<li>Alarm</li>
				<li>Memo</li>
			</ul>
		</div>
		<div id="main-content">
		</div>
    </body>
</html>