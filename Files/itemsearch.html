<input type="text" id="itemIdsField" placeholder="Item Name..." onkeydown="if(event.keyCode == 13) { $('#searchButton').trigger('click'); };" autofocus>
<button id="searchButton">Search</button>
<div id="search-results">
	<table>
		<tbody>
		</tbody>
	</table>
</div>
<div id="add-new-entry">Add new Entry</div>
<table id="saved-items">
	<tr>
		<td>Id</td>
		<td>Icon</td>
		<td>Name</td>
		<td>Type</td>
		<td>Buy Price</td>
		<td>Sell Price</td>
	</tr>
</table>
<script src="js/gw2app.js"></script>
<script>

$(document).ready(function() {
	// click the search button
	$("#searchButton").click(function() {
		var itemIds = $("#itemIdsField").val();
		GW2App.getItemIDByName(itemIds, function(response) {
			if (!response.success) { // failed response
				debug("Error from GW2 API: " + response.errorMsg);
			} else { // reload price table
				$("#search-results tbody").empty();
				response.data.forEach(function(item) {
					$("#search-results tbody").append(
							"<tr>" + 
							"<td>" + item.name + "</td>" + 
							"<td>Add</td>" + 
							"</tr>");
				});
			}
		});
	});
});
</script>
