<table id="search-results">
	<thead>
		<tr>
			<td width="95%">
				<input type="text" id="itemIdsField" placeholder="Item..." onkeydown="if(event.keyCode == 13) { $('#searchButton').trigger('click'); };" autofocus>
			</td>
			<td>
				<button id="searchButton">Search</button>
			</td>
		</tr>
	</thead>
	<tbody>
	</tbody>
</table>
<div id="add-new-entry" onclick="addNewAlarm()">Add new Entry</div>
<table id="saved-items">
	<tr>
		<td>Id</td>
		<td>Icon</td>
		<td>Name</td>
		<td>Type</td>
		<td>Buy Price</td>
		<td>Sell Price</td>
	</tr>
</table>
<script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="js/gw2app.js"></script>
<script>
$(document).ready(function() {
	// click the search button
	$("#searchButton").click(function() {
		var itemIds = $("#itemIdsField").val();
		GW2App.getItemIDByName(itemIds, function(response) {
			if (!response.success) { // failed response
				debug("Error from GW2 API: " + response.errorMsg);
			} else { // reload price table
				$("#search-results tbody").empty();
				response.data.forEach(function(item) {
					$("#search-results tbody").append(
							"<tr>" + 
							"<td>" + item.name + "</td>" + 
							"<td>Add</td>" + 
							"</tr>");
				});
			}
		});
	});
});
</script>
