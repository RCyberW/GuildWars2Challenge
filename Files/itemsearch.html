<html>
<head>
	<style type="text/css">
	#statusMessage {
		margin-top:10px;
	}
	#pricesTable {
		border-collapse:collapse;
		margin-top:10px;
		width: 50%;
	}
	#pricesTable thead{
		font-weight:bold;
	}
	#pricesTable td {
		border:1px solid #CCC;
		padding:3px;
	}
	</style>
	<script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
	<script src="js/gw2app.js"></script>
	<script>
	$(document).ready(function() {
		// click the search button
		$("#searchButton").click(function() {
			$("#statusMessage").empty();
			var itemIds = $("#itemIdsField").val();
			GW2App.getItemPrices(itemIds, function(response) {
				if (!response.success) { // failed response
					$("#statusMessage").html("Error from GW2 API: " + response.errorMsg);
				} else { // reload price table
					$("#pricesTable tbody").empty();
					response.data.forEach(function(item) {
						$("#pricesTable tbody").append(
								"<tr>" + 
								"<td>" + item.id + "</td>" + 
								'<td><img src="' + item.icon + '"/></td>' + 
								"<td>" + item.name + "</td>" + 
								"<td>" + item.description + "</td>" + 
								"<td>" + item.rarity + "</td>" + 
								"<td>" + item.type + "</td>" + 
								"<td>" + item.price.buys.unit_price + "</td>" + 
								"<td>" + item.price.sells.unit_price + "</td>" + 
								"</tr>");
					
					});
				}
			});
		});
	});
	</script>
</head>
<body>
	<label>Find by item ids: </label>
	<input type="text" id="itemIdsField" value="19684,13328,2279">
	<button id="searchButton">Search</button>
	<div id="statusMessage"></div>
	<table id="pricesTable">
		<thead>
			<tr>	
				<td>Id</td>
				<td>Icon</td>
				<td>Name</td>
				<td>Description</td>
				<td>Rarity</td>
				<td>Type</td>
				<td>Buy Price</td>
				<td>Sell Price</td>
			</tr>
		</thead>
		<tbody></tbody>
	</table>
</body>
</html>